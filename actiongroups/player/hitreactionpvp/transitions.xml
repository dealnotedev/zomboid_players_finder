<transitions>
    <transition>
        <transitionTo>idle</transitionTo>
        <transitionOut>True</transitionOut>
        <conditions>
            <eventOccurred>ActiveAnimFinishing</eventOccurred>
        </conditions>
    </transition>
    <transition>
        <transitionTo>idle</transitionTo>
        <transitionOut>True</transitionOut>
        <conditions>
            <isFalse>hashitreaction</isFalse>
        </conditions>
    </transition>
    <transition>
        <transitionTo>hitreaction-hit</transitionTo>
        <conditions>
            <eventOccurred>washitpvpagain</eventOccurred>
        </conditions>
    </transition>
    <transition>
        <transitionTo>melee</transitionTo>
        <conditions>
            <isTrue>initiateAttack</isTrue>
            <isFalse>rangedWeapon</isFalse>
            <notEquals a="Weapon" b=""/>
            <isFalse>bDoShove</isFalse>
        </conditions>
    </transition>
    <transition>
        <transitionTo>shove</transitionTo>
        <conditions>
            <isTrue>initiateAttack</isTrue>
            <isTrue>bDoShove</isTrue>
        </conditions>
    </transition>
    <transition>
        <transitionTo>ranged</transitionTo>
        <conditions>
            <isTrue>initiateAttack</isTrue>
            <isTrue>rangedWeapon</isTrue>
            <isFalse>bDoShove</isFalse>
        </conditions>
    </transition>
    <transition>
        <transitionTo>movement</transitionTo>
        <asSubstate>true</asSubstate>
        <conditions>
            <isTrue>isMoving</isTrue>
        </conditions>
    </transition>

    <transition>
        <transitionTo>run</transitionTo>
        <asSubstate>true</asSubstate>
        <conditions>
            <isTrue>isMoving</isTrue>
            <isFalse>aim</isFalse>
            <isTrue>isRunning</isTrue>
        </conditions>
    </transition>
</transitions>
